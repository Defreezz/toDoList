(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{141:function(e,t,a){e.exports=a(174)},146:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),o=a.n(c);a(146),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s,i,u=a(20),l=a(33),d=a(14),m=a.n(d),p=a(18),f=a(4),b=a(17),v=a(15),O=a(113),E=a.n(O).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1",headers:{"API-KEY":"b701020f-78a1-4daa-8002-6ee349adc8a0"}});!function(e){e[e.New=0]="New",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed",e[e.Draft=3]="Draft"}(s||(s={})),function(e){e[e.Low=0]="Low",e[e.Middle=1]="Middle",e[e.High=2]="High",e[e.Urgently=3]="Urgently",e[e.Later=4]="Later"}(i||(i={}));var g,h=function(){return Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/todo-lists");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},j=function(e){return Object(p.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.post("/todo-lists",{title:e});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},_=function(e){return Object(p.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.delete("/todo-lists/".concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},k=function(e,t){return Object(p.a)(m.a.mark((function a(){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.put("/todo-lists/".concat(e),{title:t});case 2:return n=a.sent,a.abrupt("return",n.data);case 4:case"end":return a.stop()}}),a)})))()},T=function(e){return Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.get("/todo-lists/".concat(e,"/tasks"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},y=function(e,t){return Object(p.a)(m.a.mark((function a(){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.post("/todo-lists/".concat(e,"/tasks"),{title:t});case 2:return n=a.sent,a.abrupt("return",n.data);case 4:case"end":return a.stop()}}),a)})))()},S=function(e,t){return Object(p.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.delete("/todo-lists/".concat(e,"/tasks/").concat(t));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},w=function(e,t,a){return Object(p.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.put("/todo-lists/".concat(e,"/tasks/").concat(t),a);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},I=function(){return Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},x=function(e){return Object(p.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.post("/auth/login",e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},C=function(){return Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.delete("/auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},N=function(e,t){return{type:"SET-TASKS",todolistID:e,tasks:t}},D=function(e,t){return{type:"REMOVE-TASK",taskID:t,todolistID:e}},P=function(e,t,a){return{type:"ADD-TASK",title:a,todolistID:e,task:t}},L=function(e){return{type:"UPDATE-TASK",updateTask:e}},A=function(e,t,a){return{type:"CHANGE-TASK-ENTITY-STATUS",payload:{todolistID:e,taskID:t,entityStatus:a}}},F=function(e){return{type:"UI/SET-INITIALIZED-APP",initializeStatus:e}},H=function(e){return{type:"UI/SET-PROGRESS",progress:e}},M=function(e){return{type:"UI/SET-OPERATION-STATUS",operationStatus:e}},U=function(e){return{type:"UI/SET-Error",error:e}};!function(e){e[e.success=0]="success",e[e.error=1]="error",e[e.captcha=2]="captcha"}(g||(g={}));var R=function(e,t){e(U(t)),e(M("failed"))},G=function(e,t){t.messages.length?e(U(t.messages[0])):e(U("some error")),e(M("succeeded"))};var K=function(e,t,a){return function(){var n=Object(p.a)(m.a.mark((function n(r,c){var o;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(M("loading")),o=c().tasks[e].find((function(e){return e.id===t})),n.next=4,w(e,t,Object(v.a)(Object(v.a)({},o),a));case 4:n.sent.data.resultCode===g.success&&(r(L(Object(v.a)(Object(v.a)({},o),a))),r(M("succeeded")));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},z=function(e){return{type:"REMOVE-TODOLIST",id:e}},V=function(e,t){return{type:"ADD-TODOLIST",payload:{title:e,id:t}}},B=function(e,t){return{type:"CHANGE-TODOLIST-TITLE",payload:{id:e,title:t}}};var W=a(66);var Y=function(e){return{type:"TOGGLE-THEME",isDarkTheme:e}},J={initializeStatus:!1,operationStatus:"idle",progress:0,error:null};var Z=a(79),q=Object(Z.b)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(e,t){e.isLoggedIn=t.payload.value}}}),Q=q.reducer,$=q.actions.setIsLoggedIn,X=Object(l.b)({todoLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-TODOLISTS":return t.todolists.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{filter:"all",entityStatus:"idle"})}));case"REMOVE-TODOLIST":return Object(b.a)(e.filter((function(e){return e.id!==t.id})));case"ADD-TODOLIST":return[Object(v.a)(Object(v.a)({},t.payload),{},{addedDate:"",order:0,filter:"all",entityStatus:"idle"})].concat(Object(b.a)(e));case"CHANGE-TODOLIST-TITLE":return Object(b.a)(e.map((function(e){return e.id===t.payload.id?Object(v.a)(Object(v.a)({},e),{},{title:t.payload.title}):e})));case"CHANGE-TODOLIST-FILTER":return Object(b.a)(e.map((function(e){return e.id===t.payload.id?Object(v.a)(Object(v.a)({},e),{},{filter:t.payload.filter}):e})));case"CHANGE-TODOLIST-ENTITY-STATUS":return Object(b.a)(e.map((function(e){return e.id===t.payload.id?Object(v.a)(Object(v.a)({},e),{},{entityStatus:t.payload.entityStatus}):e})));default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-TODOLISTS":var a=Object(v.a)({},e);return t.todolists.forEach((function(e){a[e.id]=[]})),a;case"SET-TASKS":return Object(v.a)(Object(v.a)({},e),{},Object(f.a)({},t.todolistID,Object(b.a)(t.tasks)));case"REMOVE-TASK":return Object(v.a)(Object(v.a)({},e),{},Object(f.a)({},t.todolistID,e[t.todolistID].filter((function(e){return e.id!==t.taskID}))));case"ADD-TASK":var n=Object(v.a)(Object(v.a)({},t.task),{},{title:t.title,status:s.New});return Object(v.a)(Object(v.a)({},e),{},Object(f.a)({},t.todolistID,[n].concat(Object(b.a)(e[t.todolistID]))));case"UPDATE-TASK":return Object(v.a)(Object(v.a)({},e),{},Object(f.a)({},t.updateTask.todoListId,e[t.updateTask.todoListId].map((function(e){return e.id===t.updateTask.id?t.updateTask:e}))));case"ADD-TODOLIST":return Object(v.a)(Object(v.a)({},e),{},Object(f.a)({},t.payload.id,[]));case"REMOVE-TODOLIST":var r=Object(v.a)({},e);return delete r[t.id],r;case"CHANGE-TASK-ENTITY-STATUS":return Object(v.a)(Object(v.a)({},e),{},Object(f.a)({},t.payload.todolistID,e[t.payload.todolistID].map((function(e){return e.id===t.payload.taskID?Object(v.a)(Object(v.a)({},e),{},{entityTaskStatus:t.payload.entityStatus}):e}))));default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UI/SET-INITIALIZED-APP":return Object(v.a)(Object(v.a)({},e),{},{initializeStatus:t.initializeStatus});case"UI/SET-PROGRESS":return Object(v.a)(Object(v.a)({},e),{},{progress:t.progress});case"UI/SET-OPERATION-STATUS":return Object(v.a)(Object(v.a)({},e),{},{operationStatus:t.operationStatus});case"UI/SET-Error":return Object(v.a)(Object(v.a)({},e),{},{error:t.error});default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isDarkTheme:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE-THEME":return Object(v.a)(Object(v.a)({},e),{},{isDarkTheme:t.isDarkTheme});default:return e}},auth:Q}),ee=Object(Z.a)({reducer:X,middleware:function(e){return e().prepend(W.a)}});window.store=ee;var te=a(124),ae=a(16),ne=a(237),re=a(232),ce=a(239),oe=a(241),se=a(240),ie=a(224),ue=a(230),le=a(242),de=a(122),me=a(234),pe=a(233),fe=r.a.forwardRef((function(e,t){return r.a.createElement(pe.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}));function be(){var e=Object(u.c)((function(e){return e.ui.error})),t=Object(u.b)(),a=function(e,a){"clickaway"!==a&&t(U(null))};return r.a.createElement(me.a,{open:!!e,autoHideDuration:6e3,onClose:a},r.a.createElement(fe,{onClose:a,severity:"error",sx:{width:"100%"}},e))}var ve=r.a.memo((function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.theme.isDarkTheme})),a=Object(de.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="The password cannot be shorter than 3 characters"):t.password="Required",t},onSubmit:function(t){var n;e((n=t,function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(M("loading")),e.next=4,x(n);case 4:(a=e.sent).resultCode===g.success?(t($({value:!0})),t(M("succeeded"))):(G(t,a),t(M("failed"))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),R(t,e.t0.message),t(M("failed"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),a.resetForm()}});return r.a.createElement(ne.a,{container:!0,display:"flex",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh",backgroundColor:t?"#484e50":"rgba(96,151,225,0.37)"}},r.a.createElement(ne.a,{item:!0,justifyContent:"center"},r.a.createElement(ce.a,null,r.a.createElement(ie.a,null,r.a.createElement("p",null,"To log in get registered",r.a.createElement("a",{href:"https://social-network.samuraijs.com/",target:"blank"}," here")),r.a.createElement("p",null,"or use common test account credentials:"),r.a.createElement("p",null,"Email: free@samuraijs.com"),r.a.createElement("p",null,"Password: free")),r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement(se.a,null,r.a.createElement(ue.a,Object.assign({label:"Email",margin:"normal"},a.getFieldProps("email"))),a.touched.email&&a.errors.email&&r.a.createElement("div",null,a.errors.email),r.a.createElement(ue.a,Object.assign({type:"password",label:"Password",margin:"normal"},a.getFieldProps("password"))),a.touched.password&&a.errors.password&&r.a.createElement("div",null,a.errors.password),r.a.createElement(oe.a,{label:"Remember me",control:r.a.createElement(re.a,a.getFieldProps("rememberMe"))}),r.a.createElement(le.a,{type:"submit",variant:"contained",color:"primary",disabled:!a.isValid||!a.dirty},"Login"))),r.a.createElement(be,null))))})),Oe=a(24),Ee=a.n(Oe),ge=function(){return r.a.createElement("div",{className:Ee.a.container},r.a.createElement("header",{className:Ee.a.topHeader}),r.a.createElement("div",null,r.a.createElement("div",{className:Ee.a.starsec}),r.a.createElement("div",{className:Ee.a.starthird}),r.a.createElement("div",{className:Ee.a.starfourth}),r.a.createElement("div",{className:Ee.a.starfifth})),r.a.createElement("div",{className:Ee.a.lamp__wrap},r.a.createElement("div",{className:Ee.a.lamp},r.a.createElement("div",{className:Ee.a.cable}),r.a.createElement("div",{className:Ee.a.cover}),r.a.createElement("div",{className:Ee.a.inCover},r.a.createElement("div",{className:Ee.a.bulb})),r.a.createElement("div",{className:Ee.a.light}))),r.a.createElement("section",{className:Ee.a.error},r.a.createElement("div",{className:Ee.a.error__content},r.a.createElement("div",{className:Ee.a.error__message},r.a.createElement("h1",{className:Ee.a.message__title},"Page Not Found")))))},he=(a(173),a(238)),je=a(123),_e=Object(je.a)({palette:{mode:"light",primary:{main:"#1a72e7"},secondary:{main:"#0b2877"}},typography:{button:{textTransform:"none"}},components:{MuiContainer:{defaultProps:{maxWidth:!1}},MuiPaper:{styleOverrides:{elevation8:{position:"relative",minHeight:"500px",padding:"18px"}}},MuiListItem:{defaultProps:{sx:{justifyContent:"space-between"}}},MuiTypography:{defaultProps:{display:"flex",justifyContent:"space-between",fontWeight:"bold",variant:"h6"}},MuiButton:{defaultProps:{sx:{color:"white","&:hover":{backgroundColor:"rgb(11,40,119)"}}}}}}),ke=Object(je.a)({palette:{mode:"dark",primary:{main:"#594948"},secondary:{main:"#333335"}},typography:{button:{textTransform:"none"}},components:{MuiContainer:{defaultProps:{maxWidth:!1}},MuiPaper:{styleOverrides:{elevation8:{position:"relative",minHeight:"500px",padding:"18px"}}},MuiListItem:{defaultProps:{sx:{justifyContent:"space-between"}}},MuiTypography:{defaultProps:{display:"flex",justifyContent:"space-between",fontWeight:"bold",variant:"h6"}},MuiButton:{defaultProps:{sx:{color:"white","&:hover":{backgroundColor:"rgb(62, 51, 50)"}}}}}}),Te=a(246),ye=a(247),Se=a(248),we=a(244),Ie=a(121),xe=a.n(Ie),Ce=a(245),Ne=a(249),De=a(250),Pe=a(13),Le=a(228),Ae=r.a.memo((function(e){var t=e.addItem,a=e.entityStatus,c=e.placeHolder;console.log("form");var o=Object(n.useState)(""),s=Object(Pe.a)(o,2),i=s[0],u=s[1],l=Object(n.useState)(""),d=Object(Pe.a)(l,2),m=d[0],p=d[1],f=Object(n.useCallback)((function(){var e=i.trim();e?t(e):p("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),u("")}),[t,i]),b=Object(n.useCallback)((function(e){u(e.currentTarget.value),p("")}),[]),v=Object(n.useCallback)((function(e){"Enter"===e.key&&f()}),[f]);return r.a.createElement("div",null,r.a.createElement(ue.a,{disabled:"loading"===a,variant:"outlined",label:c,size:"small",error:!!m,helperText:m,value:i,onChange:b,onKeyPress:v}),r.a.createElement(we.a,{disabled:"loading"===a,size:"small",onClick:f},r.a.createElement(Le.a,null)))})),Fe=a(243),He=r.a.memo((function(e){var t=e.title,a=e.className,c=e.renameItem;console.log("editable_span");var o=Object(n.useState)(!1),s=Object(Pe.a)(o,2),i=s[0],u=s[1],l=Object(n.useState)(" "),d=Object(Pe.a)(l,2),m=d[0],p=d[1],f=Object(n.useCallback)((function(e){return p(e.currentTarget.value)}),[p]),b=Object(n.useCallback)((function(){u(!i),p(t)}),[i,t]),v=Object(n.useCallback)((function(){u(!i),c(m)}),[i,m,c]),O=Object(n.useCallback)((function(e){"Enter"===e.key&&(u(!i),c(m))}),[i,m,c]);return i?r.a.createElement(ue.a,{size:"small",value:m,onChange:f,onBlur:v,onKeyPress:O,autoFocus:!0}):r.a.createElement("span",{className:a,onDoubleClick:b},t)})),Me=a(235),Ue=a(229),Re=r.a.memo((function(e){var t=e.task,a=e.removeTask,c=e.renameTask,o=e.entityTaskStatus,i=e.changeTaskStatus,u=e.todoListID,l=Object(n.useCallback)((function(e){c(t.id,u,e)}),[t.id,u,c]),d=Object(n.useCallback)((function(e){var a=e.currentTarget.checked;i(u,t.id,a?s.Completed:s.New)}),[t.id,u,i]),m=Object(n.useCallback)((function(){a(u,t.id)}),[t.id,u,a]);return r.a.createElement(Me.a,{key:t.id},r.a.createElement("div",null,r.a.createElement(re.a,{size:"small",checked:!!t.status,onChange:d}),r.a.createElement(He,{renameItem:l,title:t.title})),r.a.createElement(we.a,{size:"small",disabled:"loading"===o,onClick:m},r.a.createElement(Ue.a,null)))})),Ge=a(252),Ke=a(253),ze=r.a.memo((function(e){var t=e.todolistID,a=e.entityStatus,c=e.title,o=e.tasks,i=e.removeTodolist,l=e.renameTodolist,d=e.changeTaskFilter,f=e.filterTdl;console.log("todolist");var b=Object(u.b)(),v=Object(n.useCallback)((function(e,t){b(function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(M("loading")),n(A(e,t,"loading")),a.next=4,S(e,t);case 4:a.sent.data.resultCode===g.success&&(n(D(e,t)),n(M("succeeded")),n(A(e,t,"succeeded")));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(e,t))}),[b]),O=Object(n.useCallback)((function(e){b(function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(M("loading")),a.next=4,y(e,t);case 4:(r=a.sent).resultCode===g.success?(n(P(e,r.data.item,t)),n(M("succeeded"))):G(n,r),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),R(n,a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(t,e))}),[b,t]),E=Object(n.useCallback)((function(e,t,a){b(K(t,e,{title:a}))}),[b]),h=Object(n.useCallback)((function(e,t,a){b(K(e,t,{status:a}))}),[b]),j=Object(n.useCallback)((function(e){l(t,e)}),[l,t]),_=o;"active"===f&&(_=o.filter((function(e){return e.status===s.New}))),"completed"===f&&(_=o.filter((function(e){return e.status===s.Completed})));var k=Object(n.useMemo)((function(){return _.map((function(e){return r.a.createElement(Fe.a,{key:e.id,style:{margin:"5px 5px"}},r.a.createElement(Re,{entityTaskStatus:e.entityTaskStatus,key:e.id,removeTask:v,renameTask:E,changeTaskStatus:h,task:e,todoListID:t}))}))}),[h,v,E,_,t]),T=Object(n.useCallback)((function(){d("all",t)}),[d,t]),w=Object(n.useCallback)((function(){d("active",t)}),[d,t]),I=Object(n.useCallback)((function(){d("completed",t)}),[d,t]),x=Object(n.useCallback)((function(e){return e===f?"secondary":"primary"}),[f]);return r.a.createElement("div",null,r.a.createElement(Ce.a,null,r.a.createElement(He,{title:c,renameItem:j})),r.a.createElement("div",null,r.a.createElement(Ae,{placeHolder:"New task",addItem:O,entityStatus:a})),r.a.createElement(Ge.a,null,k),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",bottom:"15px",position:"absolute"}},r.a.createElement(Ke.a,{size:"small",variant:"contained"},r.a.createElement(le.a,{onClick:T,color:x("all")},"All"),r.a.createElement(le.a,{onClick:w,color:x("active")},"Active"),r.a.createElement(le.a,{onClick:I,color:x("completed")},"Completed")),r.a.createElement(we.a,{disabled:"loading"===a,size:"small",onClick:function(){i(t)}},r.a.createElement(Ue.a,null))))})),Ve=a(119),Be=a.n(Ve),We=a(120),Ye=a.n(We),Je=function(e){var t=e.onClickHandler,a=e.isDarkTheme;return r.a.createElement(we.a,{onClick:t,color:"inherit"},a?r.a.createElement(Be.a,null):r.a.createElement(Ye.a,null))},Ze=r.a.memo((function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isLoggedIn})),a=Object(u.c)((function(e){return e.ui.operationStatus})),c=Object(u.c)((function(e){return e.theme.isDarkTheme})),o=Object(u.c)((function(e){return e.todoLists})),s=Object(u.c)((function(e){return e.tasks})),i=Object(n.useCallback)((function(){e(Y(!c))}),[e,c]),l=Object(n.useCallback)((function(){e(function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(M("loading")),e.next=4,C();case 4:(a=e.sent).resultCode===g.success?(t($({value:!1})),t(M("succeeded"))):(G(t,a),t(M("failed"))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),R(t,e.t0.message),t(M("failed"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),d=Object(n.useCallback)((function(t,a){e(function(e,t){return{type:"CHANGE-TODOLIST-FILTER",payload:{id:t,filter:e}}}(t,a))}),[e]),f=Object(n.useCallback)((function(t){e(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(M("loading")),t.next=4,j(e);case 4:(n=t.sent).resultCode===g.success?(a(V(e,n.data.item.id)),a(M("succeeded"))):G(a,n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),R(a,t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[e]),b=Object(n.useCallback)((function(t){e(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"CHANGE-TODOLIST-ENTITY-STATUS",payload:{id:e,entityStatus:"loading"}}),a(M("loading")),t.next=4,_(e);case 4:t.sent.resultCode===g.success&&(a(z(e)),a(M("succeeded")));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[e]),v=Object(n.useCallback)((function(t,a){e(function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(M("loading")),a.next=3,k(e,t);case 3:a.sent.resultCode===g.success&&(n(B(e,t)),n(M("succeeded")));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))}),[e]);Object(n.useEffect)((function(){e(function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:a=e.sent,t({type:"SET-TODOLISTS",todolists:a}),t(F(!0)),a.forEach((function(e){var a;t((a=e.id,function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(a);case 2:null===(n=e.sent).data.error&&t(N(a,n.data.items));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(F(!0)),R(t,e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var O=(o||[]).map((function(e){var t=s[e.id];return r.a.createElement(ne.a,{item:!0,key:e.id},r.a.createElement(Fe.a,{elevation:8},r.a.createElement(ze,{entityStatus:e.entityStatus,key:e.id,todolistID:e.id,title:e.title,tasks:t,removeTodolist:b,renameTodolist:v,changeTaskFilter:d,filterTdl:e.filter})))}));return r.a.createElement("div",{style:{minHeight:"100vh",backgroundColor:c?"#484e50":"rgba(96,151,225,0.37)"}},r.a.createElement(Te.a,{position:"static"},r.a.createElement(ye.a,{sx:{justifyContent:"space-between"}},r.a.createElement(Se.a,null,r.a.createElement(we.a,null,r.a.createElement(xe.a,null)),r.a.createElement(Je,{onClickHandler:i,isDarkTheme:c})),r.a.createElement(Ce.a,null,"Todolists"),t&&r.a.createElement(le.a,{onClick:l},"Log out")),r.a.createElement("div",{style:{height:"5px"}},"loading"===a&&r.a.createElement(Ne.a,null))),r.a.createElement(De.a,null,r.a.createElement(ne.a,{container:!0,style:{padding:"20px 0 20px 0"}},r.a.createElement(Ae,{placeHolder:"New todo",addItem:f})),r.a.createElement(ne.a,{container:!0,spacing:2},O)),r.a.createElement(be,null))})),qe=a(251);function Qe(e){var t=Object(u.c)((function(e){return e.theme.isDarkTheme}));return r.a.createElement(Se.a,{style:{minHeight:"100vh",backgroundColor:t?"#484e50":"rgba(96,151,225,0.37)"},sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(qe.a,Object.assign({variant:"determinate"},e)),r.a.createElement(Se.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Ce.a,{variant:"caption",component:"div",color:"text.secondary"},"".concat(Math.round(e.value),"%"))))}var $e=r.a.memo((function(){console.log("app");var e=Object(u.b)(),t=Object(u.c)((function(e){return e.theme.isDarkTheme})),a=Object(u.c)((function(e){return e.auth.isLoggedIn})),c=Object(u.c)((function(e){return e.ui.initializeStatus})),o=Object(u.c)((function(e){return e.ui.progress})),s=Object(n.useCallback)((function(e){localStorage.setItem("isDarkTheme",JSON.stringify(e))}),[]),i=Object(n.useCallback)((function(){var t=localStorage.getItem("isDarkTheme");e(Y(null===t||t&&JSON.parse(t)))}),[e]);return Object(n.useLayoutEffect)((function(){i()}),[i]),Object(n.useEffect)((function(){s(t)}),[s,t]),Object(n.useLayoutEffect)((function(){e(function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=0,a=setInterval((function(){n<100?t(H(n+=10)):(clearInterval(a),t(F(!0)))}),100),e.next=5,I();case 5:e.sent.resultCode===g.success?t($({value:!0})):t($({value:!1})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),c?r.a.createElement(he.a,{theme:t?ke:_e},r.a.createElement(r.a.Fragment,null,c&&a?r.a.createElement(Ze,null):r.a.createElement(ve,null))):r.a.createElement(he.a,{theme:t?ke:_e},r.a.createElement(Qe,{value:o})," )")}));o.a.render(r.a.createElement(u.a,{store:ee},r.a.createElement(te.a,null,r.a.createElement(ae.d,null,r.a.createElement(ae.b,{path:"/",element:r.a.createElement($e,null)}),r.a.createElement(ae.b,{path:"/login",element:r.a.createElement(ve,null)}),r.a.createElement(ae.b,{path:"/404",element:r.a.createElement(ge,null)}),r.a.createElement(ae.b,{path:"*",element:r.a.createElement(ae.a,{to:"/404"})})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){e.exports={container:"PageNotFound_container__3efEN","top-header":"PageNotFound_top-header__3NLKY",starsec:"PageNotFound_starsec__KncD1",animStar:"PageNotFound_animStar__1r_3c",starthird:"PageNotFound_starthird__2DHsx",starfourth:"PageNotFound_starfourth__-rx57",starfifth:"PageNotFound_starfifth__3Wyqf",clearfix:"PageNotFound_clearfix__Tly39",error:"PageNotFound_error__2v0xe",error__overlay:"PageNotFound_error__overlay__2dc1o",error__content:"PageNotFound_error__content__1UNla",error__message:"PageNotFound_error__message__3jOit",message__title:"PageNotFound_message__title__dxGiq",message__text:"PageNotFound_message__text__24yB-",error__nav:"PageNotFound_error__nav__2CnMy","e-nav__form":"PageNotFound_e-nav__form__3NFi8","e-nav__icon":"PageNotFound_e-nav__icon__27Qo6","e-nav__link":"PageNotFound_e-nav__link__14YJa",error__social:"PageNotFound_error__social__21VI_","e-social__list":"PageNotFound_e-social__list__3PGXg","e-social__icon":"PageNotFound_e-social__icon__1Ad_H","e-social__link":"PageNotFound_e-social__link__1b7xc",lamp:"PageNotFound_lamp__1hgQI",move:"PageNotFound_move__1tAKe",cable:"PageNotFound_cable__3-duC",cover:"PageNotFound_cover__3U5Bs","in-cover":"PageNotFound_in-cover__3tGeO",bulb:"PageNotFound_bulb__3bej9",light:"PageNotFound_light__394e1",lamp__wrap:"PageNotFound_lamp__wrap__3LAbP"}}},[[141,1,2]]]);
//# sourceMappingURL=main.9d8044f4.chunk.js.map