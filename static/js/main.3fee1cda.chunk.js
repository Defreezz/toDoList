(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{135:function(e,t,a){e.exports=a(168)},140:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(36),c=a.n(o);a(140),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s,i=a(18),u=a(34),l=a(23),d=a(13),m=a.n(d),p=a(17);!function(e){e[e.success=0]="success",e[e.error=1]="error",e[e.captcha=2]="captcha"}(s||(s={}));var f,b,v=a(33),h=Object(v.c)({name:"ui",initialState:{initializeStatus:!1,operationStatus:"idle",progress:0,error:""},reducers:{setInitializedApp:function(e,t){e.initializeStatus=t.payload.initializeStatus},setProgress:function(e,t){e.progress=t.payload.progress},setOperationStatus:function(e,t){e.operationStatus=t.payload.operationStatus},setUiError:function(e,t){e.error=t.payload.error}}}),g=h.reducer,k=h.actions,_=k.setInitializedApp,y=k.setProgress,O=k.setOperationStatus,E=k.setUiError,j=function(e,t){e(E({error:t})),e(O({operationStatus:"failed"}))},x=function(e,t){t.messages.length?e(E({error:t.messages[0]})):e(E({error:"some error"})),e(O({operationStatus:"succeeded"}))};!function(e){e[e.New=0]="New",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed",e[e.Draft=3]="Draft"}(f||(f={})),function(e){e[e.Low=0]="Low",e[e.Middle=1]="Middle",e[e.High=2]="High",e[e.Urgently=3]="Urgently",e[e.Later=4]="Later"}(b||(b={}));var w=a(110),C=a.n(w).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1",headers:{"API-KEY":"5c2085d8-160d-4f26-bb1a-d16aa4a1e991"}}),S=function(){return Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/todo-lists");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},T=function(e){return Object(p.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.post("/todo-lists",{title:e});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},I=function(e){return Object(p.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.delete("/todo-lists/".concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},N=function(e,t){return Object(p.a)(m.a.mark((function a(){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.put("/todo-lists/".concat(e),{title:t});case 2:return n=a.sent,a.abrupt("return",n.data);case 4:case"end":return a.stop()}}),a)})))()},D=function(e,t){return Object(p.a)(m.a.mark((function a(){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.put("/todo-lists/".concat(e,"/reorder"),{putAfterItemId:t});case 2:return n=a.sent,a.abrupt("return",n.data);case 4:case"end":return a.stop()}}),a)})))()},P=function(e){return Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.get("/todo-lists/".concat(e,"/tasks"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},F=function(e,t){return Object(p.a)(m.a.mark((function a(){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.post("/todo-lists/".concat(e,"/tasks"),{title:t});case 2:return n=a.sent,a.abrupt("return",n.data);case 4:case"end":return a.stop()}}),a)})))()},L=function(e,t){return Object(p.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.delete("/todo-lists/".concat(e,"/tasks/").concat(t));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},M=function(e,t,a){return Object(p.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.put("/todo-lists/".concat(e,"/tasks/").concat(t),a);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},z=function(){return Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},A=function(e){return Object(p.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.post("/auth/login",e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},H=function(){return Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.delete("/auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},R=Object(v.c)({name:"todoLists",initialState:[],reducers:{setTodolists:function(e,t){return t.payload.todolists.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{entityStatus:"idle",filter:"all"})}))},removeTodoList:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e.splice(a,1)},addTodoList:function(e,t){e.unshift(Object(l.a)(Object(l.a)({},t.payload),{},{filter:"all",entityStatus:"idle"}))},renameTodoList:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e[a].title=t.payload.title},changeFilterTodoList:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e[a].filter=t.payload.filter},changeTodolistEntityStatus:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e[a].entityStatus=t.payload.entityStatus}}}),B=R.actions,W=B.changeFilterTodoList,U=B.removeTodoList,Z=B.renameTodoList,q=B.addTodoList,G=B.changeTodolistEntityStatus,J=B.setTodolists,K=R.reducer,V=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:a=e.sent,console.log(a),t(J({todolists:a})),a.forEach((function(e){t(X(e.id))})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(_({initializeStatus:!0})),j(t,e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},X=Object(v.b)("tasks/getTasks",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.prev=1,n(O({operationStatus:"loading"})),e.next=5,P(t);case 5:return r=e.sent,e.abrupt("return",{todolistID:t,tasks:r.data.items});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{todolistID:t,tasks:[]});case 12:return e.prev=12,n(O({operationStatus:"succeeded"})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t,a){return e.apply(this,arguments)}}()),Q=Object(v.b)("tasks/updateTask",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.taskID,r=t.todolistID,o=t.changes,c=a.dispatch,s=a.getState,e.prev=2,c(O({operationStatus:"loading"})),i=s().tasks[r].find((function(e){return e.id===n})),e.next=7,M(r,n,Object(l.a)(Object(l.a)({},i),o));case 7:return c(O({operationStatus:"succeeded"})),e.abrupt("return",{todolistID:r,taskID:n,changes:Object(l.a)(Object(l.a)({},i),o)});case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",{todolistID:r,taskID:n,changes:Object(l.a)({},o)});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),Y=Object(v.c)({name:"tasks",initialState:{},reducers:{deleteTask:function(e,t){var a=e[t.payload.todolistID],n=a.findIndex((function(e){return e.id===t.payload.taskID}));a.splice(n,1)},addNewTask:function(e,t){var a=Object(l.a)(Object(l.a)({},t.payload.task),{},{title:t.payload.title,status:f.New});e[t.payload.todolistID].unshift(a)},modifyTask:function(e,t){var a=e[t.payload.todolistID],n=a.findIndex((function(e){return e.id===t.payload.taskID}));a[n]=Object(l.a)({},t.payload.changes)},changeTaskEntityStatus:function(e,t){var a=e[t.payload.todolistID],n=a.findIndex((function(e){return e.id=t.payload.taskID}));a[n].entityTaskStatus=t.payload.entityStatus}},extraReducers:function(e){e.addCase(J,(function(e,t){t.payload.todolists.forEach((function(t){return e[t.id]=[]}))})),e.addCase(q,(function(e,t){e[t.payload.id]=[]})),e.addCase(U,(function(e,t){delete e[t.payload.id]})),e.addCase(X.fulfilled,(function(e,t){e[t.payload.todolistID]=t.payload.tasks})),e.addCase(Q.fulfilled,(function(e,t){var a=e[t.payload.todolistID],n=a.findIndex((function(e){return e.id===t.payload.taskID}));a[n]=Object(l.a)({},t.payload.changes)}))}}),$=Y.actions,ee=$.changeTaskEntityStatus,te=$.deleteTask,ae=$.addNewTask,ne=($.modifyTask,Y.reducer),re=a(64);var oe=function(e){return{type:"TOGGLE-THEME",isDarkTheme:e}},ce=Object(v.c)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(e,t){e.isLoggedIn=t.payload.value}}}),se=ce.reducer,ie=ce.actions.setIsLoggedIn,ue=Object(u.b)({todoLists:K,tasks:ne,ui:g,theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isDarkTheme:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE-THEME":return Object(l.a)(Object(l.a)({},e),{},{isDarkTheme:t.isDarkTheme});default:return e}},auth:se}),le=Object(v.a)({reducer:ue,middleware:function(e){return e().prepend(re.a)}});window.store=le;var de=a(121),me=a(15),pe=a(234),fe=a(229),be=a(236),ve=a(238),he=a(237),ge=a(220),ke=a(227),_e=a(239),ye=a(119),Oe=a(231),Ee=a(230),je=r.a.forwardRef((function(e,t){return r.a.createElement(Ee.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}));function xe(){var e=Object(i.c)((function(e){return e.ui.error})),t=Object(i.b)(),a=function(e,a){"clickaway"!==a&&t(E({error:""}))};return r.a.createElement(Oe.a,{open:!!e,autoHideDuration:6e3,onClose:a},r.a.createElement(je,{onClose:a,severity:"error",sx:{width:"100%"}},e))}var we=r.a.memo((function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.theme.isDarkTheme})),a=Object(ye.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="The password cannot be shorter than 3 characters"):t.password="Required",t},onSubmit:function(t){var n;e((n=t,function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(O({operationStatus:"loading"})),e.next=4,A(n);case 4:(a=e.sent).resultCode===s.success?(t(ie({value:!0})),t(O({operationStatus:"succeeded"}))):(x(t,a),t(O({operationStatus:"failed"}))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),j(t,e.t0.message),t(O({operationStatus:"failed"}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),a.resetForm()}});return r.a.createElement(pe.a,{container:!0,display:"flex",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh",backgroundColor:t?"#484e50":"rgba(96,151,225,0.37)"}},r.a.createElement(pe.a,{item:!0,justifyContent:"center"},r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement("p",null,"To log in get registered",r.a.createElement("a",{href:"https://social-network.samuraijs.com/",target:"blank"}," here")),r.a.createElement("p",null,"or use common test account credentials:"),r.a.createElement("p",null,"Email: free@samuraijs.com"),r.a.createElement("p",null,"Password: free")),r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement(he.a,null,r.a.createElement(ke.a,Object.assign({label:"Email",margin:"normal"},a.getFieldProps("email"))),a.touched.email&&a.errors.email&&r.a.createElement("div",null,a.errors.email),r.a.createElement(ke.a,Object.assign({type:"password",label:"Password",margin:"normal"},a.getFieldProps("password"))),a.touched.password&&a.errors.password&&r.a.createElement("div",null,a.errors.password),r.a.createElement(ve.a,{label:"Remember me",control:r.a.createElement(fe.a,a.getFieldProps("rememberMe"))}),r.a.createElement(_e.a,{type:"submit",variant:"contained",color:"primary",disabled:!a.isValid||!a.dirty},"Login"))),r.a.createElement(xe,null))))})),Ce=a(24),Se=a.n(Ce),Te=function(){return r.a.createElement("div",{className:Se.a.container},r.a.createElement("header",{className:Se.a.topHeader}),r.a.createElement("div",null,r.a.createElement("div",{className:Se.a.starsec}),r.a.createElement("div",{className:Se.a.starthird}),r.a.createElement("div",{className:Se.a.starfourth}),r.a.createElement("div",{className:Se.a.starfifth})),r.a.createElement("div",{className:Se.a.lamp__wrap},r.a.createElement("div",{className:Se.a.lamp},r.a.createElement("div",{className:Se.a.cable}),r.a.createElement("div",{className:Se.a.cover}),r.a.createElement("div",{className:Se.a.inCover},r.a.createElement("div",{className:Se.a.bulb})),r.a.createElement("div",{className:Se.a.light}))),r.a.createElement("section",{className:Se.a.error},r.a.createElement("div",{className:Se.a.error__content},r.a.createElement("div",{className:Se.a.error__message},r.a.createElement("h1",{className:Se.a.message__title},"Page Not Found")))))},Ie=(a(167),a(235)),Ne=a(120),De=Object(Ne.a)({palette:{mode:"light",primary:{main:"#1a72e7"},secondary:{main:"#0b2877"}},typography:{button:{textTransform:"none"}},components:{MuiContainer:{defaultProps:{maxWidth:!1}},MuiPaper:{styleOverrides:{elevation8:{position:"relative",minHeight:"500px",padding:"18px",width:"300px","&:hover":{cursor:"grab"}},elevation1:{margin:"0 0 5px 0",backgroundColor:"#c2d7f3"}}},MuiList:{defaultProps:{sx:{cursor:"default"}}},MuiButton:{defaultProps:{sx:{color:"white","&:hover":{backgroundColor:"rgb(11,40,119)"}}}},MuiTypography:{styleOverrides:{h6:{cursor:"default"}}}}}),Pe=Object(Ne.a)({palette:{mode:"dark",primary:{main:"#594948"},secondary:{main:"#333335"}},typography:{button:{textTransform:"none"}},components:{MuiContainer:{defaultProps:{maxWidth:!1}},MuiPaper:{styleOverrides:{elevation8:{position:"relative",minHeight:"500px",padding:"18px",width:"300px","&:hover":{cursor:"grab"}},elevation1:{margin:"0 0 5px 0"}}},MuiList:{defaultProps:{sx:{cursor:"default"}}},MuiListItem:{defaultProps:{sx:{justifyContent:"space-between"}}},MuiButton:{defaultProps:{sx:{color:"white","&:hover":{backgroundColor:"rgb(62, 51, 50)"}}}},MuiTypography:{styleOverrides:{h6:{cursor:"default"}}}}}),Fe=a(14),Le=a(244),Me=a(224),ze=r.a.memo((function(e){var t=e.id,a=e.addItem,o=e.entityStatus,c=e.placeHolder;console.log("form");var s=Object(n.useState)(""),i=Object(Fe.a)(s,2),u=i[0],l=i[1],d=Object(n.useState)(""),m=Object(Fe.a)(d,2),p=m[0],f=m[1],b=Object(n.useCallback)((function(){var e=u.trim();e?a(e,t):f("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),l("")}),[a,u,t]),v=Object(n.useCallback)((function(e){l(e.currentTarget.value),f("")}),[]),h=Object(n.useCallback)((function(e){"Enter"===e.key&&b()}),[b]);return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(ke.a,{disabled:"loading"===o,variant:"outlined",label:c,size:"small",error:!!p,helperText:p,value:u,onChange:v,onKeyPress:h}),r.a.createElement(Le.a,{disabled:"loading"===o,size:"small",onClick:b},r.a.createElement(Me.a,null)))})),Ae=a(240),He=r.a.memo((function(e){var t=e.title,a=e.variant,o=e.className,c=e.renameItem;console.log("editable_span");var s=Object(n.useState)(!1),i=Object(Fe.a)(s,2),u=i[0],l=i[1],d=Object(n.useState)(" "),m=Object(Fe.a)(d,2),p=m[0],f=m[1],b=Object(n.useCallback)((function(e){return f(e.currentTarget.value)}),[f]),v=Object(n.useCallback)((function(){l(!u),f(t)}),[u,t]),h=Object(n.useCallback)((function(){l(!u),c(p)}),[u,p,c]),g=Object(n.useCallback)((function(e){"Enter"===e.key&&(l(!u),c(p))}),[u,p,c]);return u?r.a.createElement(ke.a,{size:"small",value:p,onChange:b,onBlur:h,onKeyPress:g,autoFocus:!0}):r.a.createElement(Ae.a,{onDoubleClick:v,width:"100%",align:"left",noWrap:!0,component:"div",variant:a,className:o},r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},r.a.createElement(Ae.a,{noWrap:!0},t)))})),Re=a(232),Be=a(225),We=r.a.memo((function(e){var t=e.task,a=e.removeTask,o=e.renameTask,c=e.entityTaskStatus,s=e.changeTaskStatus,i=e.todoListID,u=Object(n.useCallback)((function(e){o(t.id,i,e)}),[t.id,i,o]),l=Object(n.useCallback)((function(e){var a=e.currentTarget.checked;s(i,t.id,a?f.Completed:f.New)}),[t.id,i,s]),d=Object(n.useCallback)((function(){a(i,t.id)}),[t.id,i,a]);return r.a.createElement(Re.a,{key:t.id},r.a.createElement(fe.a,{size:"small",checked:!!t.status,onChange:l}),r.a.createElement(He,{variant:"body2",renameItem:u,title:t.title}),r.a.createElement(Le.a,{size:"small",disabled:"loading"===c,onClick:d},r.a.createElement(Be.a,null)))})),Ue=a(243),Ze=a(241),qe=a(245),Ge=a(246),Je=function(){var e=Object(i.b)(),t=Object(n.useCallback)((function(t,a){e(function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(O({operationStatus:"loading"})),n(ee({todolistID:e,taskID:t,entityStatus:"loading"})),a.next=4,L(e,t);case 4:a.sent.data.resultCode===s.success&&(n(te({todolistID:e,taskID:t})),n(O({operationStatus:"succeeded"})));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))}),[e]),a=Object(n.useCallback)((function(t,a){e(function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(O({operationStatus:"loading"})),a.next=4,F(e,t);case 4:(r=a.sent).resultCode===s.success?(n(ae({todolistID:e,task:r.data.item,title:t})),n(O({operationStatus:"succeeded"}))):x(n,r),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),j(n,a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(a,t))}),[e]),r=Object(n.useCallback)((function(t,a,n){e(Q({todolistID:a,taskID:t,changes:{title:n}}))}),[e]),o=Object(n.useCallback)((function(t,a,n){e(Q({todolistID:t,taskID:a,changes:{status:n}}))}),[e]);return Object(n.useMemo)((function(){return{handleTaskRemove:t,handleTaskAdd:a,handleTaskRename:r,handleTaskStatusChange:o}}),[t,a,r,o])},Ke=r.a.memo((function(e){var t=e.todolistID,a=e.entityStatus,o=e.title,c=e.tasks,s=e.removeTodolist,u=e.renameTodolist,l=e.filterTdl,d=Je(),m=d.handleTaskRemove,p=d.handleTaskRename,b=d.handleTaskStatusChange,v=d.handleTaskAdd,h=function(e){var t=Object(i.b)(),a=Object(n.useCallback)((function(){t(W({filter:"all",id:e}))}),[t,e]),r=Object(n.useCallback)((function(){t(W({filter:"active",id:e}))}),[t,e]),o=Object(n.useCallback)((function(){t(W({filter:"completed",id:e}))}),[t,e]);return Object(n.useMemo)((function(){return{handleFilterAllClick:a,handleFilterActiveClick:r,handleFilterCompletedClick:o}}),[a,r,o])}(t),g=h.handleFilterAllClick,k=h.handleFilterCompletedClick,_=h.handleFilterActiveClick,y=Object(n.useCallback)((function(e){u(t,e)}),[u,t]),O=Object(n.useMemo)((function(){return function(e,t){return"active"===t?e.filter((function(e){return e.status===f.New})):"completed"===t?e.filter((function(e){return e.status===f.Completed})):e}(c,l).map((function(e){return console.log("".concat(e.title," + ").concat(e.id," ")),r.a.createElement(Ue.a,{key:e.id},r.a.createElement(We,{entityTaskStatus:e.entityTaskStatus,key:e.id,removeTask:m,renameTask:p,changeTaskStatus:b,task:e,todoListID:t}))}))}),[b,l,m,p,t,c]),E=Object(n.useCallback)((function(e){return e===l?"secondary":"primary"}),[l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{style:{marginBottom:"15px"}},r.a.createElement(He,{variant:"h6",title:o,renameItem:y})),r.a.createElement(ze,{id:t,placeHolder:"New task",addItem:v,entityStatus:a}),r.a.createElement(qe.a,null,O),r.a.createElement("div",{style:{bottom:"15px",position:"absolute"}},r.a.createElement(Ge.a,{size:"small",variant:"contained"},r.a.createElement(_e.a,{onClick:g,color:E("all")},"All"),r.a.createElement(_e.a,{onClick:_,color:E("active")},"Active"),r.a.createElement(_e.a,{onClick:k,color:E("completed")},"Completed")),r.a.createElement(Le.a,{style:{marginLeft:"86px"},disabled:"loading"===a,size:"small",onClick:function(){s(t)}},r.a.createElement(Be.a,null))))})),Ve=a(117),Xe=a.n(Ve),Qe=a(118),Ye=a.n(Qe),$e=function(e){var t=e.onClickHandler,a=e.isDarkTheme;return r.a.createElement(Le.a,{onClick:t,color:"inherit"},a?r.a.createElement(Xe.a,null):r.a.createElement(Ye.a,null))},et=a(247),tt=a(248),at=a(249),nt=a(250),rt=a(226),ot=function(){var e=Object(i.b)(),t=Object(n.useCallback)((function(t){e(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(O({operationStatus:"loading"})),t.next=4,T(e);case 4:(n=t.sent).resultCode===s.success?(a(q(Object(l.a)({},n.data.item))),a(O({operationStatus:"succeeded"}))):x(a,n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),j(a,t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[e]),a=Object(n.useCallback)((function(t){var a;e((a=t,function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(G({id:a,entityStatus:"loading"})),t(O({operationStatus:"loading"})),e.next=4,I(a);case 4:e.sent.resultCode===s.success&&(t(U({id:a})),t(O({operationStatus:"succeeded"})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e]),r=Object(n.useCallback)((function(t,a){var n,r;e((n=t,r=a,function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(O({operationStatus:"loading"})),e.next=3,N(n,r);case 3:e.sent.resultCode===s.success&&(t(Z({id:n,title:r})),t(O({operationStatus:"succeeded"})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e]);return Object(n.useMemo)((function(){return{handleTodolistAdd:t,handleTodolistRemove:a,handleTodolistRename:r}}),[t,a,r])},ct=Object(n.memo)((function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth.isLoggedIn})),a=Object(i.c)((function(e){return e.ui.operationStatus})),o=Object(i.c)((function(e){return e.theme.isDarkTheme})),c=Object(i.c)((function(e){return e.todoLists})),u=Object(i.c)((function(e){return e.tasks})),l=ot(),d=l.handleTodolistAdd,f=l.handleTodolistRename,b=l.handleTodolistRemove,v=Object(n.useCallback)((function(){e(oe(!o))}),[e,o]),h=Object(n.useCallback)((function(){e(function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(O({operationStatus:"loading"})),e.next=4,H();case 4:(a=e.sent).resultCode===s.success?(t(ie({value:!1})),t(O({operationStatus:"succeeded"}))):(x(t,a),t(O({operationStatus:"failed"}))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),j(t,e.t0.message),t(O({operationStatus:"failed"}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);Object(n.useEffect)((function(){e(V())}),[e]);var g=Object(n.useRef)(""),k=Object(n.useCallback)((function(e,t){g.current=t}),[g]),_=Object(n.useCallback)((function(e){e.currentTarget.style.opacity="1"}),[]),y=Object(n.useCallback)((function(e){e.preventDefault(),e.currentTarget.style.opacity="0.1"}),[]),E=Object(n.useCallback)((function(t,a){t.preventDefault(),t.currentTarget.style.opacity="1",console.log(g.current),e(function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(O({operationStatus:"loading"})),a.next=4,D(e,t);case 4:if((r=a.sent).resultCode!==s.success){a.next=11;break}return a.next=8,n(V());case 8:n(O({operationStatus:"succeeded"})),a.next=12;break;case 11:x(n,r);case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),j(n,a.t0.message);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()}(g.current,a))}),[e]),w=Object(n.useMemo)((function(){return c.map((function(e){return r.a.createElement(pe.a,{item:!0,key:e.id,draggable:!0,onDragStart:function(t){return k(t,e.id)},onDragLeave:_,onDragEnd:_,onDragOver:y,onDrop:function(t){return E(t,e.id)}},r.a.createElement(Ue.a,{elevation:8},r.a.createElement(Ke,{entityStatus:e.entityStatus,key:e.id,todolistID:e.id,title:e.title,tasks:u[e.id],removeTodolist:b,renameTodolist:f,filterTdl:e.filter})))}))}),[c,u,f,b,k,E,_,y]);return r.a.createElement("div",{style:{minHeight:"100vh",backgroundColor:o?"#484e50":"rgba(96,151,225,0.37)"}},r.a.createElement(et.a,{position:"static"},r.a.createElement(tt.a,{sx:{justifyContent:"space-between"}},r.a.createElement(Ze.a,null,r.a.createElement($e,{onClickHandler:v,isDarkTheme:o})),r.a.createElement(Ae.a,null,"Todolists"),t&&r.a.createElement(Le.a,{onClick:h},r.a.createElement(rt.a,null))),r.a.createElement("div",{style:{height:"5px"}},"loading"===a&&r.a.createElement(at.a,null))),r.a.createElement(nt.a,null,r.a.createElement(pe.a,{container:!0,style:{padding:"20px 0 20px 0"}},r.a.createElement(ze,{placeHolder:"New todo",addItem:d})),r.a.createElement(pe.a,{container:!0,spacing:2},w)),r.a.createElement(xe,null))})),st=a(242);function it(e){var t=Object(i.c)((function(e){return e.theme.isDarkTheme}));return r.a.createElement(Ze.a,{style:{minHeight:"100vh",backgroundColor:t?"#484e50":"rgba(96,151,225,0.37)"},sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(st.a,Object.assign({variant:"determinate"},e)),r.a.createElement(Ze.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Ae.a,{variant:"caption",component:"div",color:"text.secondary"},"".concat(Math.round(e.value),"%"))))}var ut=r.a.memo((function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.theme.isDarkTheme})),a=Object(i.c)((function(e){return e.auth.isLoggedIn})),o=Object(i.c)((function(e){return e.ui.initializeStatus})),c=Object(i.c)((function(e){return e.ui.progress})),u=Object(n.useCallback)((function(e){localStorage.setItem("isDarkTheme",JSON.stringify(e))}),[]),l=Object(n.useCallback)((function(){var t=localStorage.getItem("isDarkTheme");e(oe(null===t||t&&JSON.parse(t)))}),[e]);return Object(n.useLayoutEffect)((function(){l()}),[l]),Object(n.useEffect)((function(){u(t)}),[u,t]),Object(n.useLayoutEffect)((function(){e(function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=0,a=setInterval((function(){n<100?t(y({progress:n+=10})):(clearInterval(a),t(_({initializeStatus:!0})))}),100),e.next=5,z();case 5:e.sent.resultCode===s.success?t(ie({value:!0})):t(ie({value:!1})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),o?r.a.createElement(Ie.a,{theme:t?Pe:De},a?r.a.createElement(ct,null):r.a.createElement(we,null)):r.a.createElement(Ie.a,{theme:t?Pe:De},r.a.createElement(it,{value:c})," )")}));c.a.render(r.a.createElement(i.a,{store:le},r.a.createElement(de.a,null,r.a.createElement(me.d,null,r.a.createElement(me.b,{path:"/todolist",element:r.a.createElement(ut,null)}),r.a.createElement(me.b,{path:"/",element:r.a.createElement(ut,null)}),r.a.createElement(me.b,{path:"/login",element:r.a.createElement(we,null)}),r.a.createElement(me.b,{path:"/404",element:r.a.createElement(Te,null)}),r.a.createElement(me.b,{path:"/*",element:r.a.createElement(me.a,{to:"/404"})})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){e.exports={container:"PageNotFound_container__22tru","top-header":"PageNotFound_top-header__VOBLk",starsec:"PageNotFound_starsec__1Qc2O",animStar:"PageNotFound_animStar__2xinE",starthird:"PageNotFound_starthird__3RPGj",starfourth:"PageNotFound_starfourth__3Xbpp",starfifth:"PageNotFound_starfifth__1NHhQ",clearfix:"PageNotFound_clearfix__3Nq5S",error:"PageNotFound_error__2CbIC",error__overlay:"PageNotFound_error__overlay__ojbm9",error__content:"PageNotFound_error__content__ai7Oa",error__message:"PageNotFound_error__message__XqZPl",message__title:"PageNotFound_message__title__zzBh9",message__text:"PageNotFound_message__text__3BZO-",error__nav:"PageNotFound_error__nav__1uVX_","e-nav__form":"PageNotFound_e-nav__form__hQD8A","e-nav__icon":"PageNotFound_e-nav__icon__2RZIa","e-nav__link":"PageNotFound_e-nav__link__-6o6j",error__social:"PageNotFound_error__social__1MWdO","e-social__list":"PageNotFound_e-social__list__1XLFe","e-social__icon":"PageNotFound_e-social__icon__1yEuw","e-social__link":"PageNotFound_e-social__link__33Izi",lamp:"PageNotFound_lamp__2c7sL",move:"PageNotFound_move__1o_NF",cable:"PageNotFound_cable__12BKO",cover:"PageNotFound_cover__Elu8r","in-cover":"PageNotFound_in-cover__1dqzv",bulb:"PageNotFound_bulb__3IIyz",light:"PageNotFound_light__1MnYY",lamp__wrap:"PageNotFound_lamp__wrap__IevDU"}}},[[135,1,2]]]);
//# sourceMappingURL=main.3fee1cda.chunk.js.map